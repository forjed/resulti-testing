<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <title style="text-transform: uppercase;">Resulti Search</title>
  </head>
  <body>
    <img src="image svg here" width="" height="">
    <input type="text" id="searchInput" placeholder="Search on Resulti">
    <button onclick="fetchGoogleResults()">Search</button>
    <div id="results"></div>
    <script>
      function fetchGoogleResults() {
        const searchQuery = document.getElementById('searchInput').value;
        const resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = '';
        //change fakeresults to actual google api variable
        const apiurl = "https://www.googleapis.com/customsearch/v1?key=AIzaSyB7m1QdHeSfp4YkGJ07oIyXDXUu5dQckGM&cx=f63db20a997024c54&cx=f63db20a997024c54&q=" + searchQuery;
        console.log("Url:", apiurl);
        let realresults = [];
        fetch(apiurl)
          .then(response => response.json())
          .then(data => {
            for (const key in data.items) {
              if (data.items.hasOwnProperty(key)) {
                if (data.items[key].hasOwnProperty('title')) {
                  realresults.push(data.items[key]);
                }
              }
            }
            realresults.forEach(result => {

              const linkElement = document.createElement('a');
              linkElement.textContent = result.title;
              linkElement.href = result.link;
              linkElement.target = "_blank";
              linkElement.style.display = "block";
              resultsDiv.appendChild(linkElement);

              const txtlinkElement = document.createElement('a');
              txtlinkElement.textContent = result.link;
              txtlinkElement.href = result.link;
              txtlinkElement.target = "_blank";
              txtlinkElement.style.display = "block";
              resultsDiv.appendChild(txtlinkElement);

              const snipElement = document.createElement('p');
              snipElement.textContent = result.snippet;
              snipElement.target = "_blank";
              snipElement.style.display = "block";
              resultsDiv.appendChild(snipElement);

              const brElement = document.createElement('br');
              resultsDiv.appendChild(brElement);
            });
          })
          .catch(error => console.error('Error fetching data:', error));
      }
    </script>
  </body>
</html> 
